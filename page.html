<!doctype html>
<html lang="en"> 
 <head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <title>Funpage Sports and Safaris - Book Your Adventure</title> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> 
  <script src="https://unpkg.com/backendless@latest/dist/backendless.js"></script> 
  <style>
        /* --- CSS Variables (Maroon/Blue/Green Theme) --- */
        :root {
            --color-primary: #800000; /* Maroon */
            --color-secondary: #b03060; /* Deep Rose/Maroon Accent */
            --color-dark: #1a1a1a; 
            --color-light: #f8f9fa; 
            --color-white: #ffffff;
            --color-accent-blue: #007bff; /* Vibrant Blue */
            --color-whatsapp: #25D366; /* WhatsApp Green */
            --color-shadow: rgba(0, 0, 0, 0.2);
            --color-skeleton: #e2e2e2; 
        }

        /* --- Global Styles --- */
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            background-color: var(--color-light);
            color: var(--color-dark);
            line-height: 1.6;
        }

        /* --- Navigation Bar --- */
        .navbar {
            position: sticky;
            top: 0;
            z-index: 1000;
            background-color: var(--color-dark);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
        }
        .nav-container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: flex-end; 
            align-items: center;
            padding: 15px 0;
        }
        .navbar a {
            color: var(--color-white);
            text-decoration: none;
            padding: 0 20px;
            font-size: 1rem;
            font-weight: 500;
            transition: color 0.3s, transform 0.3s;
        }
        .navbar a:hover {
            color: var(--color-accent-blue);
            transform: translateY(-2px);
        }

        /* Header & Adventure Strip */
        header {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: var(--color-white);
            padding: 50px 0 0;
            text-align: center;
        }
        header h1 {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            font-size: 3rem;
            letter-spacing: 4px;
            text-transform: uppercase;
            text-shadow: 2px 2px var(--color-dark);
        }
        header p {
            font-size: 1.3rem;
            font-style: italic;
            margin-top: 5px;
            margin-bottom: 20px;
        }
        .adventure-strip {
            background-color: var(--color-accent-blue);
            padding: 10px 0;
            box-shadow: 0 4px 10px var(--color-shadow);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.1rem;
            color: var(--color-white);
            font-weight: bold;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
        }
        h2 {
            text-align: center;
            color: var(--color-primary);
            font-size: 2.5rem;
            border-bottom: 3px solid var(--color-accent-blue);
            padding-bottom: 10px;
            margin-bottom: 50px;
        }

        /* --- 1. Package Display Cards (Image Loading & Button Layout Fix) --- */
        #packages-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
        }
        .package-card {
            background-color: var(--color-white);
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.5s, box-shadow 0.3s, opacity 0.5s;
            display: flex;
            flex-direction: column;
            opacity: 0; 
            transform: translateY(100px); 
        }
        .package-card.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .package-card:hover {
            transform: translateY(-12px) scale(1.02); 
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3); 
        }

        /* Image Placeholder (Skeleton Loading) */
        .img-container {
            width: 100%;
            height: 250px;
            background-color: var(--color-skeleton); 
            animation: pulse 1.5s infinite alternate;
            border-bottom: 5px solid var(--color-accent-blue);
        }
        .img-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: opacity 0.3s;
        }

        .card-content {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        .card-content h3 {
            color: var(--color-primary);
            margin-top: 0;
            font-size: 1.8rem;
            padding-bottom: 10px;
            margin-bottom: 10px;
        }
        .card-content .price {
            font-size: 1.6rem;
            font-weight: 800;
            color: var(--color-accent-blue);
            margin-bottom: 20px;
            text-align: right;
        }
        
        /* FIX: Button Layout */
        .card-actions {
            display: flex;
            gap: 10px;
            justify-content: space-between; 
            margin-top: 15px; /* Add slight separation from text */
        }
        .action-btn {
            padding: 14px 10px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            text-transform: uppercase;
            font-weight: bold;
            transition: transform 0.2s, opacity 0.2s;
            flex: 1; 
            white-space: nowrap; 
        }

        .book-btn {
            background-color: var(--color-primary); /* Maroon */
            color: var(--color-white);
        }
        .consult-btn {
            background-color: var(--color-whatsapp); /* Green */
            color: var(--color-white);
        }

        /* --- 2. Booking Modal/Form (FIXED LAYOUT) --- */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 1000; 
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7); 
            overflow: auto;
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background-color: var(--color-white);
            margin: 5% auto; 
            padding: 40px;
            border-radius: 12px;
            width: 90%;
            max-width: 450px; /* Slightly narrower for a cleaner feel */
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: modalopen 0.4s;
        }
        
        .modal-content h3 {
            color: var(--color-primary);
            border-bottom: 2px solid var(--color-accent-blue);
            padding-bottom: 10px;
            margin-bottom: 10px; /* Fixed spacing */
            font-size: 1.8rem;
        }
        .modal-intro {
            color: var(--color-secondary); 
            font-weight: bold; 
            margin-bottom: 20px; 
            padding-bottom: 5px;
            font-size: 1rem;
        }
        
        /* FIX: Cleaned Form Input Spacing */
        #booking-form label {
            display: block;
            margin-top: 12px;
            margin-bottom: 4px;
            font-weight: 600;
        }
        #booking-form input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 1rem;
        }
        #booking-form button {
            margin-top: 30px !important;
        }

        /* --- Payment & Status Styling --- */
        .payment-box {
            background-color: #ffeccf; /* Light Yellow/Orange background */
            border: 2px solid var(--color-primary); /* Maroon Border */
            padding: 15px;
            border-radius: 8px;
            margin-top: 25px;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }
        .payment-box h4 {
            color: var(--color-primary);
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
        }
        .payment-box strong {
            display: block;
            font-size: 1.1rem;
            color: var(--color-dark);
            margin-top: 5px;
        }
        
        .status-message {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: 600;
            line-height: 1.5;
        }
        .status-message.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status-message.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }


        /* Footer */
        footer {
            text-align: center;
            padding: 30px;
            background-color: var(--color-dark);
            color: var(--color-light);
            margin-top: 50px;
            font-size: 0.95rem;
            border-top: 5px solid var(--color-primary);
        }
    </style> 
 </head> 
 <body> 
  <nav class="navbar"> 
   <div class="nav-container"> <a href="#home"><i class="fas fa-home"></i> Home</a> <a href="#packages"><i class="fas fa-box"></i> Packages</a> <a href="#contact"><i class="fas fa-phone"></i> Contact</a> 
   </div> 
  </nav> 
  <header id="home"> 
   <h1>FUNPAGE SPORTS AND SAFARIS</h1> 
   <p>Your ultimate destination for thrilling adventures.</p> 
   <div class="adventure-strip"> <i class="fas fa-hiking"></i> UNFORGETTABLE JOURNEYS AWAIT <i class="fas fa-plane-departure"></i> 
   </div> 
  </header> 
  <div class="container"> 
   <h2 id="packages">Choose Your Adventure</h2> 
   <div id="packages-list" class="loading-text"> 
    <p><i class="fas fa-spinner fa-spin"></i> Loading packages...</p> 
   </div> 
  </div> 
  <div id="booking-modal" class="modal"> 
   <div class="modal-content"> <span class="close-btn" onclick="closeModal()">×</span> 
    <h3 id="modal-title">Finalize Booking: [Package Name]</h3> 
    <p class="modal-intro"> <i class="fas fa-info-circle"></i> Fill in your details below to submit your booking request. </p> 
    <form id="booking-form"> 
     <input type="hidden" id="booking-packageId" name="packageId"> 
     <input type="hidden" id="booking-packageName" name="packageName"> <label for="clientName">Your Full Name:</label> 
     <input type="text" id="clientName" name="clientName" required> <label for="phone">Phone Number:</label> 
     <input type="number" id="phone" name="phone" required> <label for="date">Preferred Start Date:</label> 
     <input type="date" id="date" name="date" required> <label for="pax">Number of People (Pax):</label> 
     <input type="number" id="pax" name="pax" min="1" required> <label for="mpesaCode">M-Pesa Transaction Code (E.g., OAC98V5L9A):</label> 
     <input type="text" id="mpesaCode" name="mpesaCode" placeholder="Enter the 10-digit code you received after payment" maxlength="10"> 
     <div class="payment-box"> 
      <h4><i class="fas fa-money-check-alt" style="margin-right: 8px;"></i> Manual Payment Details (Via M-Pesa Paybill)</h4> 
      <p>To finalize your booking, please use the following details to send your payment/deposit via **M-Pesa Paybill** (Equity Bank):</p> 
      <p> **Bank:** Equity Bank<br> **Business No:** 247247<br> **Account No:** 0791566724<br> **Account Name:** Godwill Owiti </p> 
      <p style="font-style: italic; margin-bottom: 0;">**Important:** The **Account No** is your internal reference. Please enter the **M-Pesa Transaction Code** above to speed up verification.</p> 
     </div> <button type="submit" class="book-btn action-btn" id="submit-booking-btn"> <i class="fas fa-check-circle"></i> Confirm and Submit Booking </button> 
     <div id="booking-status" class="status-message" style="display: none;"></div> 
    </form> 
   </div> 
  </div> 
  <footer id="contact"> 
   <p>© 2025 Funpage Sports and Safaris. All rights reserved.</p> 
   <p>Need immediate assistance? Contact us on WhatsApp or call +254 791 566724.</p> 
  </footer> 
  <script>
        // --- Backendless Configuration ---
        const APPLICATION_ID = 'B669D83D-1513-4C1D-AF08-F7BF4C055542'; 
        const JS_API_KEY = 'B395986D-78B8-4ABF-987E-106A73B7A79A'; 
        const PACKAGES_TABLE = 'Packages';
        const BOOKINGS_TABLE = 'Bookings'; 
        
        // WhatsApp Configuration
        const WHATSAPP_NUMBER = '254791566724'; 

        try {
            Backendless.initApp(APPLICATION_ID, JS_API_KEY);
        } catch (e) {
            console.error("Failed to initialize Backendless:", e);
        }

        // --- Element Selectors ---
        const packagesList = document.getElementById('packages-list');
        const bookingModal = document.getElementById('booking-modal');
        const bookingForm = document.getElementById('booking-form');
        const modalTitle = document.getElementById('modal-title');
        const packageIdField = document.getElementById('booking-packageId');
        const packageNameField = document.getElementById('booking-packageName');
        const submitBookingBtn = document.getElementById('submit-booking-btn');
        const bookingStatus = document.getElementById('booking-status');
        
        // --- Helper Functions ---
        
        function displayStatus(type, message, sticky = false) { 
            bookingStatus.className = `status-message ${type}`;
            bookingStatus.style.display = 'block';
            bookingStatus.innerHTML = message;
            
            // Use a longer timeout (10s) for important success messages
            const timeout = sticky ? 10000 : 4000;

            setTimeout(() => {
                bookingStatus.style.display = 'none';
                closeModal();
            }, timeout);
        }

        window.openBookingModal = function(packageId, packageName) {
            modalTitle.textContent = `Finalize Booking: ${packageName}`;
            packageIdField.value = packageId;
            packageNameField.value = packageName;
            bookingForm.reset();
            bookingStatus.style.display = 'none';
            bookingModal.style.display = 'block';
        };
        
        window.consultViaWhatsApp = function(packageName) {
            const whatsappText = encodeURIComponent(`Hello Funpage Sports and Safaris, I am interested in the ${packageName} package and would like to chat now.`);
            const whatsappLink = `https://wa.me/${WHATSAPP_NUMBER}?text=${whatsappText}`;
            window.open(whatsappLink, '_blank');
        };

        window.closeModal = function() {
            bookingModal.style.display = 'none';
            bookingStatus.style.display = 'none'; 
        }

        // --- 1. Load Packages from Backendless (UNCHANGED) ---
        async function loadPackages() {
            packagesList.innerHTML = '<p class="loading-text"><i class="fas fa-spinner fa-spin"></i> Loading packages...</p>';
            try {
                const queryBuilder = Backendless.DataQueryBuilder.create().setSortBy(['name ASC']); 
                const packages = await Backendless.Data.of(PACKAGES_TABLE).find(queryBuilder);
                
                if (!packages || packages.length === 0) {
                    packagesList.innerHTML = '<p class="loading-text">No packages are currently available. Check back soon!</p>';
                    return;
                }

                packagesList.innerHTML = packages.map((pkg, index) => `
                    <div class="package-card" style="transition-delay: ${index * 0.15}s;">
                        <div class="img-container">
                            <img src="${pkg.image}" alt="${pkg.name}" loading="lazy" style="opacity: 0;" onload="this.style.opacity=1;">
                        </div>
                        <div class="card-content">
                            <h3>${pkg.name}</h3>
                            <p class="info-text">${pkg.description.substring(0, 150)}${pkg.description.length > 150 ? '...' : ''}</p>
                            <div class="price">Starts from: Ksh ${pkg.price ? pkg.price.toLocaleString() : 'N/A'}</div>
                            <div class="card-actions">
                                <button 
                                    class="action-btn book-btn" 
                                    onclick="openBookingModal('${pkg.objectId}', '${pkg.name.replace(/'/g, "\\'")}')">
                                    <i class="fas fa-clipboard-list"></i> Book Now
                                </button>
                                <button 
                                    class="action-btn consult-btn" 
                                    onclick="consultViaWhatsApp('${pkg.name.replace(/'/g, "\\'")}')">
                                    <i class="fab fa-whatsapp"></i> Consult
                                </button>
                            </div>
                        </div>
                    </div>
                `).join('');
                
                document.querySelectorAll('.package-card').forEach(card => card.classList.add('visible'));

            } catch (error) {
                console.error("Package Fetch Error:", error);
                packagesList.innerHTML = '<p class="loading-text status-message error">❌ Failed to load packages. Please check your Backendless settings.</p>';
            }
        }

        // --- 2. Handle Booking Submission (UPDATED) ---
        bookingForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            submitBookingBtn.disabled = true;
            submitBookingBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
            bookingStatus.style.display = 'none';

            try {
                // CAPTURE M-PESA CODE FIELD
                const mpesaCodeInput = document.getElementById('mpesaCode').value.trim();
                
                const bookingData = {
                    clientName: document.getElementById('clientName').value,
                    phone: document.getElementById('phone').value,
                    date: new Date(document.getElementById('date').value).toISOString(), 
                    pax: parseInt(document.getElementById('pax').value),
                    packageId: packageIdField.value,
                    packageName: packageNameField.value,
                    
                    // Maps to the new 'transactionCode' column in your Backendless table
                    transactionCode: mpesaCodeInput || 'N/A', 
                    // Maps to the new 'paymentStatus' column. Admin must change this to 'Paid' manually.
                    paymentStatus: 'Unpaid', 
                    // The 'paymentDate' column will remain null until the admin verifies the payment and sets the date manually.
                };
                
                await Backendless.Data.of(BOOKINGS_TABLE).save(bookingData);
                
                // Construct dynamic success message
                let codeStatusMsg = mpesaCodeInput 
                    ? `**Your M-Pesa Code (${mpesaCodeInput}) has been noted for quick verification.**` 
                    : `**ACTION: Please proceed with M-Pesa payment and ensure you have the transaction code.**`;

                displayStatus('success', `
                    ✅ **Booking Submitted!**<br>
                    We've saved your booking for *${bookingData.packageName}*. <br>
                    ${codeStatusMsg}
                    
                    <div style="margin-top: 10px; padding: 10px; background-color: #fff; border-radius: 5px; font-size: 0.95rem;">
                       <strong>Payment via Equity Bank Paybill:</strong><br>
                       **Business No:** 247247<br>
                       **Account No:** 0791566724<br>
                    </div>

                    We will call you at ${bookingData.phone} shortly to confirm details and verify payment.
                `, true); // 'true' keeps the message visible longer for reading
                
            } catch (error) {
                console.error("Booking Submission Error:", error);
                displayStatus('error', `❌ Submission failed. Please ensure all fields are correct.`);
            } finally {
                submitBookingBtn.disabled = false;
                submitBookingBtn.innerHTML = '<i class="fas fa-check-circle"></i> Confirm and Submit Booking';
            }
        });

        // --- 3. Modal Event Listeners (UNCHANGED) ---
        window.addEventListener('click', function(event) {
            if (event.target == bookingModal) {
                closeModal();
            }
        });

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', loadPackages);
    </script> 
 
<script type="text/javascript" id="dcoder_script"><script>
        // --- Backendless Configuration ---
        const APPLICATION_ID = 'B669D83D-1513-4C1D-AF08-F7BF4C055542'; 
        const JS_API_KEY = 'B395986D-78B8-4ABF-987E-106A73B7A79A'; 
        const PACKAGES_TABLE = 'Packages';
        const BOOKINGS_TABLE = 'Bookings'; 
        
        // WhatsApp Configuration
        const WHATSAPP_NUMBER = '254791566724'; 

        try {
            Backendless.initApp(APPLICATION_ID, JS_API_KEY);
        } catch (e) {
            console.error("Failed to initialize Backendless:", e);
        }

        // --- Element Selectors ---
        const packagesList = document.getElementById('packages-list');
        const bookingModal = document.getElementById('booking-modal');
        const bookingForm = document.getElementById('booking-form');
        const modalTitle = document.getElementById('modal-title');
        const packageIdField = document.getElementById('booking-packageId');
        const packageNameField = document.getElementById('booking-packageName');
        const submitBookingBtn = document.getElementById('submit-booking-btn');
        const bookingStatus = document.getElementById('booking-status');
        
        // --- Helper Functions ---
        
        function displayStatus(type, message, sticky = false) { 
            bookingStatus.className = `status-message ${type}`;
            bookingStatus.style.display = 'block';
            bookingStatus.innerHTML = message;
            
            // Use a longer timeout (10s) for important success messages
            const timeout = sticky ? 10000 : 4000;

            setTimeout(() => {
                bookingStatus.style.display = 'none';
                closeModal();
            }, timeout);
        }

        window.openBookingModal = function(packageId, packageName) {
            modalTitle.textContent = `Finalize Booking: ${packageName}`;
            packageIdField.value = packageId;
            packageNameField.value = packageName;
            bookingForm.reset();
            bookingStatus.style.display = 'none';
            bookingModal.style.display = 'block';
        };
        
        window.consultViaWhatsApp = function(packageName) {
            const whatsappText = encodeURIComponent(`Hello Funpage Sports and Safaris, I am interested in the ${packageName} package and would like to chat now.`);
            const whatsappLink = `https://wa.me/${WHATSAPP_NUMBER}?text=${whatsappText}`;
            window.open(whatsappLink, '_blank');
        };

        window.closeModal = function() {
            bookingModal.style.display = 'none';
            bookingStatus.style.display = 'none'; 
        }

        // --- 1. Load Packages from Backendless ---
        async function loadPackages() {
            packagesList.innerHTML = '<p class="loading-text"><i class="fas fa-spinner fa-spin"></i> Loading packages...</p>';
            try {
                const queryBuilder = Backendless.DataQueryBuilder.create().setSortBy(['name ASC']); 
                const packages = await Backendless.Data.of(PACKAGES_TABLE).find(queryBuilder);
                
                if (!packages || packages.length === 0) {
                    packagesList.innerHTML = '<p class="loading-text">No packages are currently available. Check back soon!</p>';
                    return;
                }

                packagesList.innerHTML = packages.map((pkg, index) => `
                    <div class="package-card" style="transition-delay: ${index * 0.15}s;">
                        <div class="img-container">
                            <img src="${pkg.image}" alt="${pkg.name}" loading="lazy" style="opacity: 0;" onload="this.style.opacity=1;">
                        </div>
                        <div class="card-content">
                            <h3>${pkg.name}</h3>
                            <p class="info-text">${pkg.description.substring(0, 150)}${pkg.description.length > 150 ? '...' : ''}</p>
                            <div class="price">Starts from: Ksh ${pkg.price ? pkg.price.toLocaleString() : 'N/A'}</div>
                            <div class="card-actions">
                                <button 
                                    class="action-btn book-btn" 
                                    onclick="openBookingModal('${pkg.objectId}', '${pkg.name.replace(/'/g, "\\'")}')">
                                    <i class="fas fa-clipboard-list"></i> Book Now
                                </button>
                                <button 
                                    class="action-btn consult-btn" 
                                    onclick="consultViaWhatsApp('${pkg.name.replace(/'/g, "\\'")}')">
                                    <i class="fab fa-whatsapp"></i> Consult
                                </button>
                            </div>
                        </div>
                    </div>
                `).join('');
                
                document.querySelectorAll('.package-card').forEach(card => card.classList.add('visible'));

            } catch (error) {
                console.error("Package Fetch Error:", error);
                packagesList.innerHTML = '<p class="loading-text status-message error">❌ Failed to load packages. Please check your Backendless settings.</p>';
            }
        }

        // --- 2. Handle Booking Submission (UPDATED) ---
        bookingForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            submitBookingBtn.disabled = true;
            submitBookingBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
            bookingStatus.style.display = 'none';

            try {
                // CAPTURE M-PESA CODE FIELD
                const mpesaCodeInput = document.getElementById('mpesaCode').value.trim();
                
                const bookingData = {
                    clientName: document.getElementById('clientName').value,
                    phone: document.getElementById('phone').value,
                    date: new Date(document.getElementById('date').value).toISOString(), 
                    pax: parseInt(document.getElementById('pax').value),
                    packageId: packageIdField.value,
                    packageName: packageNameField.value,
                    // Save the entered code or 'N/A' to Backendless
                    mpesaCode: mpesaCodeInput || 'N/A', 
                    status: 'Pending' 
                };
                
                await Backendless.Data.of(BOOKINGS_TABLE).save(bookingData);
                
                // Construct dynamic success message
                let codeStatusMsg = mpesaCodeInput 
                    ? `**Your M-Pesa Code (${mpesaCodeInput}) has been noted.**` 
                    : `**ACTION: Please complete your M-Pesa payment and email the transaction code to us.**`;

                displayStatus('success', `
                    ✅ **Booking Submitted!**<br>
                    We've saved your booking for *${bookingData.packageName}*. <br>
                    ${codeStatusMsg}
                    
                    <div style="margin-top: 10px; padding: 10px; background-color: #fff; border-radius: 5px; font-size: 0.95rem;">
                       <strong>Payment via Equity Bank Paybill:</strong><br>
                       **Business No:** 247247<br>
                       **Account No:** 0791566724<br>
                    </div>

                    We will call you at ${bookingData.phone} shortly to confirm details and verify payment.
                `, true); // 'true' keeps the message visible longer for reading
                
            } catch (error) {
                console.error("Booking Submission Error:", error);
                displayStatus('error', `❌ Submission failed. Please ensure all fields are correct.`);
            } finally {
                submitBookingBtn.disabled = false;
                submitBookingBtn.innerHTML = '<i class="fas fa-check-circle"></i> Confirm and Submit Booking';
            }
        });

        // --- 3. Modal Event Listeners ---
        window.addEventListener('click', function(event) {
            if (event.target == bookingModal) {
                closeModal();
            }
        });

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', loadPackages);</script></body></html>